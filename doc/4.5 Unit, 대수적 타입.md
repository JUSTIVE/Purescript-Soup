# ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ìž…


## Unit



## ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ìž…

_sum(or), product(and) íƒ€ìž… ë“±._

oopì—ì„œëŠ” ì¶”ìƒí´ëž˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ì½˜í¬ë¦¬íŠ¸í•œ í•˜ìœ„ í´ëž˜ìŠ¤ë“¤ì„ êµ¬ì„±(ì¤‘ì²©ëœ ì¶”ìƒ í´ëž˜ìŠ¤ê°€ ìžˆì„ ìˆ˜ë„ ìžˆìŒ, ê·¸ëŸ¬ë‚˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì½˜í¬ë¦¬íŠ¸ í´ëž˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì•¼ í•¨).

ê·¸ëŸ¬ë‚˜ ì´ëŸ° ë°©ì‹ì€ í•˜ìœ„ í´ëž˜ìŠ¤ê°€ ìˆ˜í–‰í•´ì•¼ í•  ëª¨ë“  ë™ìž‘ì„ ìƒìœ„ ì¸í„°íŽ˜ì´ìŠ¤ì— ì •ì˜í•´ì•¼ í•˜ê³ , ëª¨ë“ˆì„±ì„ ê¹¨ì§€ ì•Šê³ ì„œëŠ” ìƒˆ ì—°ì‚°ì„ ì¶”ê°€í•˜ê¸° íž˜ë“¤ë‹¤.

```purescript
-- or type
data Shape
  = Circle Point Number
  | Rectangle Point Number Number
  | Line Point Point
  | Text Point String

-- ëŒ€ìˆ˜ì  íƒ€ìž…ì€ dataë¡œ ì •ì˜ë˜ê³ , ê° í•˜ìœ„ íƒ€ìž…ì€ | ë¡œ êµ¬ë¶„ëœë‹¤.

-- and type
type Point =
  { x :: Number
  , y :: Number
  }

data Maybe a = Nothing | Just a
{-
ì—¬ê¸°ì„œ forall ì´ ì—†ìŒì— ì£¼ëª©í•˜ë¼.
forall ì€ í•¨ìˆ˜ì—ëŠ” í•„ìš”í•˜ì§€ë§Œ ADTë‚˜ typeì„ ë‹¤ë£° ë•Œì—ëŠ” í•„ìš”í•˜ì§€ ì•Šë‹¤.
-}

data List a = Nil | Cons a (List a)

```

ì—¬ê¸°ì„œ ConsëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

(ì½˜ì†”ì—ì„œ í™•ì¸í–ˆì„ ë•Œ)

```purescript
> :kind Cons
Symbol -> Symbol -> Symbol -> Constraint
```

ðŸ¤” ì£¼ì–´ì§„ ì •ë³´ê°€ ë„ˆë¬´ ì—†ë‹¤ (ê°ë„ ì•ˆìž¡ížŒë‹¤)

(pursuitì—ì„œ í™•ì¸í–ˆì„ ë•Œ)

```purescript
class Cons (head :: Symbol) (tail :: Symbol) (symbol :: Symbol) | head tail -> symbol, symbol -> head tail
```

[class ì— ë¶™ì€ | ëŠ” ë¬´ì—‡ì¸ê³  í•˜ë‹ˆ](https://book.purescript.org/chapter6.html#:~:text=The%20compiler%20is%20unable%20to%20make%20that%20deduction%20automatically%2C%20and%20cannot%20commit%20to%20the%20streamString%20instance.%20However%2C%20we%20can%20help%20the%20compiler%20by%20adding%20a%20hint%20to%20the%20type%20class%20definition%3A)
_functional dependency_ : ë‹¤ì¤‘ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ëŠ” íƒ€ìž… í´ëž˜ìŠ¤ì˜ ì¸ìž íƒ€ìž…ë“¤ì˜ ê´€ê³„ ì¢…ì†ì„±ì„ í˜•ì„±í•˜ëŠ” ê²ƒ

- ì´ íƒ€ìž… ìƒì„±ìžì˜ íƒ€ìž… ì¸ìžë“¤ì€ `|` ì´í›„ë¥¼ ë§Œì¡±í•˜ëŠ” íƒ€ìž… ì¸ìžë“¤ì´ ë˜ì‹œê² ë‹¤.

> ðŸ¤” Cons ëŠ” ë¬´ì—‡ì¸ê°€
>
> > ðŸ¤”ðŸ¤” ì‹¬ë³¼ íƒ€ìž…ì´ëž€ ë¬´ì—‡ì¸ê°€
> >
> > data Symbol :: Type
> > Symbol is the kind of type-level strings.
> >
> > Construct types of this kind using the same literal syntax as documented for strings.
> >
> > ```purescript
> > type Hello :: Symbol
> > type Hello = "Hello, world"
> > ```
> >
> > ðŸ¤”ðŸ¤”ðŸ¤”ðŸ¤”ðŸ¤”
>
> > https://github.com/paf31/24-days-of-purescript-2016/blob/master/9.markdown
> > ë¦¬í„°ëŸ´ ë¬¸ìžì—´ `"cookies"` ëŠ” `String` íƒ€ìž…ì´ê³ , `*` kind ì´ë‹¤.
> > íƒ€ìž… `"cookies"` ëŠ” `Symbol` kind ì´ë‹¤.
> >
> > ðŸ§ íƒ€ìž… ì´ë¦„ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒ?
>
> ðŸ§ Cons ëŠ” head íƒ€ìž… ì´ë¦„ê³¼ tail íƒ€ìž… ì´ë¦„ê³¼ symbol íƒ€ìž… ì´ë¦„ì„ ë°›ëŠ”ë°
> head tailì˜ ê²°ê³¼ëŠ” symbol ì´ê³ 
> symbol ì€ head tailì˜ ê²°ê³¼ì´ë‹¤

ì¦‰, List íƒ€ìž…ì€

- íƒ€ìž… ì¸ìž a ë¥¼ ë°›ë˜
- Nil ì´ê±°ë‚˜
  - head List a ê°€ ì‹¬ë³¼ ì´ê³ 
  - ì‹¬ë³¼ì´ a ì™€ List a ì¸ ì‹¬ë³¼ì´ë‹¤.

headì™€ tailì„ ì ìš©í•  ìˆ˜ ìžˆëŠ” ìž¬ê·€ì ì¸ íƒ€ìž….

## ADT ì‚¬ìš©í•˜ê¸°

ADTì˜ ìƒì„±ìžë¥¼ ì´ìš©í•˜ì—¬ íƒ€ìž…ì„ ë§Œë“œëŠ” ê²ƒì€ í•¨ìˆ˜ì— ì¸ìžë¥¼ ë„˜ê¸°ëŠ” ê²ƒê³¼ ë‹¤ë¥´ì§€ ì•Šë‹¤.

```purescript
exampleLine :: Shape
exampleLine = Line p1 p2
  where
    p1 :: Point
    p1 = { x: 0.0, y: 0.0 }

    p2 :: Point
    p2 = { x: 100.0, y: 50.0 }
```

ì´ëŸ° ADTë¥¼ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œëŠ” íŒ¨í„´ ë§¤ì¹­ì— ì ìš©í•˜ëŠ” ê²ƒ

ìƒê¸°í•œ `Shape`ë¥¼ `String`ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ `showShape`ì— ëŒ€í•´ì„œ

```purescript
showShape :: Shape -> String
showShape (Circle c r) =
  "Circle [center: " <> showPoint c <> ", radius: " <> show r <> "]"
showShape (Rectangle c w h) =
  "Rectangle [center: " <> showPoint c <> ", width: " <> show w <> ", height: " <> show h <> "]"
showShape (Line start end) =
  "Line [start: " <> showPoint start <> ", end: " <> showPoint end <> "]"
showShape (Text loc text) =
  "Text [location: " <> showPoint loc <> ", text: " <> show text <> "]"

showPoint :: Point -> String
showPoint { x, y } =
  "(" <> show x <> ", " <> show y <> ")"
```
