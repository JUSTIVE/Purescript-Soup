# ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ìž…


## Unit

[reference](https://pursuit.purescript.org/packages/purescript-prelude/6.0.0/docs/Data.Unit#v:unit)
ì–´ë–¤ ê³„ì‚°ì ì¸ ë‚´ìš©ì„ í¬í•¨í•˜ì§€ ì•Šì€ ê°’(ê³„ì‚°ë˜ì§€ ì•ŠëŠ” ê°’)

[reference](https://en.wikipedia.org/wiki/Unit_type)
íƒ€ìž…ê³¼ íƒ€ìž…ì´ ìžˆëŠ” í•¨ìˆ˜ë“¤ì˜ ì§‘í•©ì—ì„œì˜ ë§ë‹¨ ê°ì²´.
zero í˜¹ì€ bottom íƒ€ìž…ê³¼ëŠ” ë‹¤ë¥´ë‹¤.
ëª‡ëª‡ ëª…ë ¹í˜• í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ë“¤ì—ì„œëŠ” void íƒ€ìž…ì„ í†µí•´ unitì„ êµ¬í˜„í•˜ì˜€ìœ¼ë‚˜, carrier setì´ ë¹„ì–´ìžˆìœ¼ë¯€ë¡œ, ëª‡ëª‡ ì œí•œì„ ê°€ì§„ë‹¤.

### unit vs void?

  #### í•¨ìˆ˜ í˜¸ì¶œì˜ ê´€ì ì—ì„œ 
  ```c
  void f(void){}
  void g(void){}

  int main(void)
  {
    f(g()); // ì—¬ê¸°ì„œ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
    return 0;
  }
  ```

  rescript ì—ì„œëŠ”
  ```rescript
  let f = () => ()
  let g = () => ()

  let main = () =>
  	f(g()) // ë¬¸ì œ ì—†ìŒ
  ```

  purescript ì—ì„œëŠ” 
  ```purescript

  ```

  #### ì €ìž¥ ê´€ì ì—ì„œ
  voidëŠ” íŠ¹ìˆ˜í•œ íƒ€ìž…ì´ë¼ record íƒ€ìž…ì— ì €ìž¥ë  ìˆ˜ ì—†ìœ¼ë‚˜, fp ì–¸ì–´ì˜ recordì—ëŠ” ì €ìž¥ë  ìˆ˜ ìžˆë‹¤.
  ```rescript
  type record = {
    x : unit
  }
  ```



## ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ìž…

_sum(or), product(and) íƒ€ìž… ë“±._

[reference](https://en.wikipedia.org/wiki/Algebraic_data_type)
ADTëŠ” ì¡°í•© ê°€ëŠ¥í•œ íƒ€ìž…ìœ¼ë¡œì¨, ëŒ€í‘œì ìœ¼ë¡œ sum(tagged union, disjoint union, coproduct, variant íƒ€ìž…)ê³¼ product(tuple,record) íƒ€ìž…ì´ ìžˆë‹¤.

sum íƒ€ìž…ì€ variants ë¡œ ë¶ˆë¦¬ëŠ” í•˜ìœ„ ì§‘í•©ìœ¼ë¡œ ë‚˜ë‰˜ì–´ì§„ë‹¤. ê°ê°ì˜ variant íƒ€ìž…ì€ ìƒì„±ìžë¼ ë¶ˆë¦¬ëŠ” ì¤€-í•¨ìˆ˜ì  ê°ì²´(quasi-functional entity)ë¡œ ë§Œë“¤ì–´ì§„ë‹¤.
sum íƒ€ìž…ì˜ ê°€ëŠ¥í•œ ê°’ì˜ ì§‘í•©ì€ ì§‘í•©ë¡ ì˜ í•©ê³¼ ê°™ë‹¤. Enum íƒ€ìž…ì€ ìƒì„±ìžë“¤ì´ ì¸ìžë¥¼ ë°›ì§€ ì•ŠëŠ”, sum íƒ€ìž…ì˜ íŠ¹ìˆ˜í•œ ê²½ìš°ì´ë‹¤.

product íƒ€ìž…ì˜ ê°€ëŠ¥í•œ ê°’ì˜ ì§‘í•©ì€ ì´ë¥¼ êµ¬ì„±í•˜ëŠ” ì§‘í•©ë“¤ì˜ ë°ì¹´ë¥´íŠ¸ ê³±ì´ë‹¤(ì´ë¥¼ êµ¬ì„±í•˜ëŠ” ëª¨ë“  íƒ€ìž…ë“¤ì´ ì§êµí•œë‹¤).




oopì—ì„œëŠ” ì¶”ìƒí´ëž˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ì½˜í¬ë¦¬íŠ¸í•œ í•˜ìœ„ í´ëž˜ìŠ¤ë“¤ì„ êµ¬ì„±(ì¤‘ì²©ëœ ì¶”ìƒ í´ëž˜ìŠ¤ê°€ ìžˆì„ ìˆ˜ë„ ìžˆìŒ, ê·¸ëŸ¬ë‚˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì½˜í¬ë¦¬íŠ¸ í´ëž˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì•¼ í•¨).

ê·¸ëŸ¬ë‚˜ ì´ëŸ° ë°©ì‹ì€ í•˜ìœ„ í´ëž˜ìŠ¤ê°€ ìˆ˜í–‰í•´ì•¼ í•  ëª¨ë“  ë™ìž‘ì„ ìƒìœ„ ì¸í„°íŽ˜ì´ìŠ¤ì— ì •ì˜í•´ì•¼ í•˜ê³ , ëª¨ë“ˆì„±ì„ ê¹¨ì§€ ì•Šê³ ì„œëŠ” ìƒˆ ì—°ì‚°ì„ ì¶”ê°€í•˜ê¸° íž˜ë“¤ë‹¤.

```purescript
-- or type
data Shape
  = Circle Point Number
  | Rectangle Point Number Number
  | Line Point Point
  | Text Point String

-- ëŒ€ìˆ˜ì  íƒ€ìž…ì€ dataë¡œ ì •ì˜ë˜ê³ , ê° í•˜ìœ„ íƒ€ìž…ì€ | ë¡œ êµ¬ë¶„ëœë‹¤.

-- and type
type Point =
  { x :: Number
  , y :: Number
  }

data Maybe a = Nothing | Just a
{-
ì—¬ê¸°ì„œ forall ì´ ì—†ìŒì— ì£¼ëª©í•˜ë¼.
forall ì€ í•¨ìˆ˜ì—ëŠ” í•„ìš”í•˜ì§€ë§Œ ADTë‚˜ typeì„ ë‹¤ë£° ë•Œì—ëŠ” í•„ìš”í•˜ì§€ ì•Šë‹¤.
-}

data List a = Nil | Cons a (List a)

```

ì—¬ê¸°ì„œ ConsëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

(ì½˜ì†”ì—ì„œ í™•ì¸í–ˆì„ ë•Œ)

```purescript
> :kind Cons
Symbol -> Symbol -> Symbol -> Constraint
```

ðŸ¤” ì£¼ì–´ì§„ ì •ë³´ê°€ ë„ˆë¬´ ì—†ë‹¤ (ê°ë„ ì•ˆìž¡ížŒë‹¤)

(pursuitì—ì„œ í™•ì¸í–ˆì„ ë•Œ)

```purescript
class Cons (head :: Symbol) (tail :: Symbol) (symbol :: Symbol) | head tail -> symbol, symbol -> head tail
```

[class ì— ë¶™ì€ | ëŠ” ë¬´ì—‡ì¸ê³  í•˜ë‹ˆ](https://book.purescript.org/chapter6.html#:~:text=The%20compiler%20is%20unable%20to%20make%20that%20deduction%20automatically%2C%20and%20cannot%20commit%20to%20the%20streamString%20instance.%20However%2C%20we%20can%20help%20the%20compiler%20by%20adding%20a%20hint%20to%20the%20type%20class%20definition%3A)
_functional dependency_ : ë‹¤ì¤‘ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ëŠ” íƒ€ìž… í´ëž˜ìŠ¤ì˜ ì¸ìž íƒ€ìž…ë“¤ì˜ ê´€ê³„ ì¢…ì†ì„±ì„ í˜•ì„±í•˜ëŠ” ê²ƒ

- ì´ íƒ€ìž… ìƒì„±ìžì˜ íƒ€ìž… ì¸ìžë“¤ì€ `|` ì´í›„ë¥¼ ë§Œì¡±í•˜ëŠ” íƒ€ìž… ì¸ìžë“¤ì´ ë˜ì‹œê² ë‹¤.

> ðŸ¤” Cons ëŠ” ë¬´ì—‡ì¸ê°€
>
> > ðŸ¤”ðŸ¤” ì‹¬ë³¼ íƒ€ìž…ì´ëž€ ë¬´ì—‡ì¸ê°€
> >
> > data Symbol :: Type
> > Symbol is the kind of type-level strings.
> >
> > Construct types of this kind using the same literal syntax as documented for strings.
> >
> > ```purescript
> > type Hello :: Symbol
> > type Hello = "Hello, world"
> > ```
> >
> > ðŸ¤”ðŸ¤”ðŸ¤”ðŸ¤”ðŸ¤”
>
> > https://github.com/paf31/24-days-of-purescript-2016/blob/master/9.markdown
> > ë¦¬í„°ëŸ´ ë¬¸ìžì—´ `"cookies"` ëŠ” `String` íƒ€ìž…ì´ê³ , `*` kind ì´ë‹¤.
> > íƒ€ìž… `"cookies"` ëŠ” `Symbol` kind ì´ë‹¤.
> >
> > ðŸ§ íƒ€ìž… ì´ë¦„ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒ?
>
> ðŸ§ Cons ëŠ” head íƒ€ìž… ì´ë¦„ê³¼ tail íƒ€ìž… ì´ë¦„ê³¼ symbol íƒ€ìž… ì´ë¦„ì„ ë°›ëŠ”ë°
> head tailì˜ ê²°ê³¼ëŠ” symbol ì´ê³ 
> symbol ì€ head tailì˜ ê²°ê³¼ì´ë‹¤

ì¦‰, List íƒ€ìž…ì€

- íƒ€ìž… ì¸ìž a ë¥¼ ë°›ë˜
- Nil ì´ê±°ë‚˜
  - head List a ê°€ ì‹¬ë³¼ ì´ê³ 
  - ì‹¬ë³¼ì´ a ì™€ List a ì¸ ì‹¬ë³¼ì´ë‹¤.

headì™€ tailì„ ì ìš©í•  ìˆ˜ ìžˆëŠ” ìž¬ê·€ì ì¸ íƒ€ìž….

`Cons a (List a)` ëŠ” `Cons a (Cons a (Cons a ... (Cons n Nil))` ê³¼ ê°™ì€ í˜•íƒœì´ë‹¤.

## ADT ì‚¬ìš©í•˜ê¸°

ADTì˜ ìƒì„±ìžë¥¼ ì´ìš©í•˜ì—¬ íƒ€ìž…ì„ ë§Œë“œëŠ” ê²ƒì€ í•¨ìˆ˜ì— ì¸ìžë¥¼ ë„˜ê¸°ëŠ” ê²ƒê³¼ ë‹¤ë¥´ì§€ ì•Šë‹¤.

```purescript
exampleLine :: Shape
exampleLine = Line p1 p2
  where
    p1 :: Point
    p1 = { x: 0.0, y: 0.0 }

    p2 :: Point
    p2 = { x: 100.0, y: 50.0 }
```

ì´ëŸ° ADTë¥¼ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œëŠ” íŒ¨í„´ ë§¤ì¹­ì— ì ìš©í•˜ëŠ” ê²ƒ

ìƒê¸°í•œ `Shape`ë¥¼ `String`ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ `showShape`ì— ëŒ€í•´ì„œ

```purescript
showShape :: Shape -> String
showShape (Circle c r) =
  "Circle [center: " <> showPoint c <> ", radius: " <> show r <> "]"
showShape (Rectangle c w h) =
  "Rectangle [center: " <> showPoint c <> ", width: " <> show w <> ", height: " <> show h <> "]"
showShape (Line start end) =
  "Line [start: " <> showPoint start <> ", end: " <> showPoint end <> "]"
showShape (Text loc text) =
  "Text [location: " <> showPoint loc <> ", text: " <> show text <> "]"

showPoint :: Point -> String
showPoint { x, y } =
  "(" <> show x <> ", " <> show y <> ")"
```
