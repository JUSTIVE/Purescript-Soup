# íŒ¨í„´ ë§¤ì¹­

ì´ ì¥ì—ì„œëŠ” ë‘ ê°œë…ì„ ì†Œê°œí•©ë‹ˆë‹¤

- ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ì…
- íŒ¨í„´ ë§¤ì¹­

íŒ¨í„´ë§¤ì¹­ì€ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ ê°„ê²°í•˜ê³  ë³µì¡í•œ ê°œë…ë“¤ì„ ì—¬ëŸ¬ ë¶„ê¸°ë¡œ ìª¼ê°œì„œ êµ¬í˜„í•´ì„œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•

Data.PictureëŠ”

- ê°„ë‹¨í•œ ëª¨í˜•ë“¤ì„ ìœ„í•œ ë°ì´í„° íƒ€ì… `Shape`ì™€
- ë„í˜•ì˜ ì§‘í•©ê³¼ ì´ íƒ€ì…ì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë“¤ì´ ìˆëŠ” `Picture`íƒ€ì…
  ì„ ì •ì˜í•©ë‹ˆë‹¤

```purescript
module Data.Picture where

import Prelude
import Data.Foldable (foldl)
import Data.Number (infinity)
```

`Data.Picture` ëª¨ë“ˆì€ `Number` ëª¨ë“ˆì„ í¬í•¨í•˜ëŠ”ë°, ì—¬ê¸°ì„œ `as` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤

```purescript
import Data.Number as Number
```

í•´ë‹¹ ëª¨ë“ˆì— ìˆëŠ” í•¨ìˆ˜ë‚˜ íƒ€ì…ë“¤ì„ Number.max ì™€ ê°™ì´ ì œí•œëœ ì´ë¦„ìœ¼ë¡œ ê°€ì ¸ì˜¬ ë¿ë§Œ ì•„ë‹ˆë¼, importì˜ ì¤‘ì²©ì„ í”¼í•˜ê³  ëª¨ë“ˆì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒë“¤ì„ ëª…í™•í•˜ê²Œ í•˜ëŠ” ê²ƒì— ìˆìŠµë‹ˆë‹¤.

## ê°„ë‹¨í•œ íŒ¨í„´ ë§¤ì¹­

_ì•„ëŠ” ë§›_

ìœ í´ë¦¬ë“œ í˜¸ì œë²•ì„ ë‹¤ë£¬ ì˜ˆì œ

```purescript
gcd :: Int -> Int -> Int
gcd n 0 = n
gcd 0 m = m
gcd n m = if n > m
            then gcd (n - m) m
            else gcd n (m - n)
```

rescript equivalent

```rescript
let rec gcd = (n,m) => {
  switch (n,m) {
  | (n,0) => n
  | (0,m) => m
  | (n,m) =>{
      if (n > m){
        gcd(n-m,m)
      }
      else{
        gcd(n,m-n)
      }
    }
}
```

## ë‹¨ìˆœí•œ íŒ¨í„´

```purescript
fromString :: String -> Boolean
fromString "true" = true
fromString _      = false

toString :: Boolean -> String
toString true = "true"
toString false = "false"
```

## ê°€ë“œ

_ì•„ëŠ” ë§›2_

ìœ„ì˜ ìœ í´ë¦¬ë“œ í˜¸ì œë²•ì—ì„œ `if .. then .. else` ì˜ í‘œí˜„ì€ `m>n` ê³¼ `m<=n` ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ì´ ê²½ìš°ì—ëŠ” ê°€ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```purescript
gcdV2 :: Int -> Int -> Int
gcdV2 n 0 = n
gcdV2 0 m = m
gcdV2 n m | n > m     = gcdV2 (n-m) m
          | otherwise = gcdV2 n (m-n)
```

rescript equivalent

```rescript
let rec gcdv2 = (n,m) => {
  switch (n,m) {
  | (n,0) => n
  | (0,m) => m
  | (n,m) if (n > m) =>gcd(n-m,m)
  | (n,m) => gcd(n,m-n)
}
```

## ë°°ì—´ íŒ¨í„´

```purescript
isEmpty :: forall a. Array a -> Boolean
isEmpty [] = true
isEmpty _ = false
```

```purescript
takeFive :: Array Int -> Int
takeFive [0,1,a,b,_] = a * b
takeFive _ = 0
```

ë°°ì—´ íŒ¨í„´ë§¤ì¹­ì€ ê³ ì •ëœ ê¸¸ì´ì—ë§Œ ì ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ(ë¶ˆë³€ ë°°ì—´ì— ëŒ€í•œ destructuringì€ ì„±ëŠ¥ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆë‹¤.),
ì •í•´ì§€ì§€ ì•Šì€ ê¸¸ì´ë¥¼ ëŒ€ì‘í•˜ê¸° ìœ„í•´ì„œëŠ” Data.Listë¥¼ ì‚¬ìš©í•  ê²ƒ(h::l)

## ë ˆì½”ë“œ íŒ¨í„´ê³¼ ì—´ ë‹¤í˜•ì„±

ë ˆì½”ë“œ íŒ¨í„´ì€ ë ˆì½”ë“œì— íŒ¨í„´ ë§¤ì¹­í•  ë•Œ ì‚¬ìš©

```purescript
showPerson :: {first::String,last::String}->String
showPerson {first:x,last:y} = y <> ", " <> x
```

tsë‚˜ jsì˜ object destructuring ê°™ì€ ëŠë‚Œ

ë ˆì½”ë“œ íŒ¨í„´ì€ purescriptì˜ ì—´ ë‹¤í˜•ì„±ì„ ë³´ì—¬ì£¼ê¸° ë§¤ìš° ì ì ˆí•œ ì˜ˆì‹œ

```purescript
> showPerson {first:x,last:y} = y <> ", " <> x

> :type showPerson
forall r. {first::String, last::String | r} -> String
{- ì—¬ê¸°ì„œì˜ r ì€ ë¬´ì—‡ì¼ê¹Œìš”? ë‘ë‘¥íƒ-}
```

ì´ ì„ ì–¸ì€ ì € ìœ„ì—ì„œ ì„ ì–¸í•œ ê²ƒì²˜ëŸ¼ í•¨ìˆ˜íƒ€ì…ì„ ì„ ì–¸í–ˆì„ ë•Œì™€ëŠ” ë‹¤ë¥¸ íƒ€ì…ì„ ê°€ì§„ë‹¤.

```purescript
> showPerson { first: "Phil", last: "Freeman" }
"Freeman, Phil"

> showPerson { first: "Phil", last: "Freeman", location: "Los Angeles" }
"Freeman, Phil"
```

showPersonì˜ ì¸ìì— ì¶”ê°€ í•„ë“œë¥¼ ë„£ì—ˆì„ ë•Œë„ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•œë‹¤. ê·¸ëŸ¬ë‚˜ ì ì€ í•„ë“œì¼ ê²½ìš°ì—ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

```purescript
> showPerson { first: "Phil" }

Type of expression lacks required label "last"
```

ì¦‰, ì•„ê¹Œ ìœ„ì—ì„œì˜ rì€ ë‹¤ë¥¸ ì•„ë¬´ í•„ë“œë¥¼ ì˜ë¯¸í•˜ëŠ” ê²ƒì´ë‹¤. ì´ í•¨ìˆ˜ëŠ” ë ˆì½”ë“œ í•„ë“œ rì— ëŒ€í•´ì„œ ë‹¤í˜•ì„±ì„ ëˆë‹¤(ì—´ ë‹¤í˜•ì„±).
ì—´ ë³€ìˆ˜ rì´ ì—†ë‹¤ë©´ showPersonì€ ì˜¤ë¡œì§€ ì œí•œëœ í•„ë“œë¥¼ ê°€ì§„ ë ˆì½”ë“œë§Œì„ ì¸ìë¡œ ë°›ëŠ”ë‹¤.

## ë ˆì½”ë“œ ë§ì¥ë‚œ

í•¨ìˆ˜ íƒ€ì… ì„ ì–¸ì—ì„œ ì‚¬ìš©í•œ ë ˆì½”ë“œ í•„ë“œ ì´ë¦„ì„ ê·¸ëŒ€ë¡œ í•¨ìˆ˜ ì„ ì–¸ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```purescript
showPersonV2 :: { first :: String, last :: String } -> String
showPersonV2 { first, last } = last <> ", " <> first
```

```purescript
unknownPerson :: { first :: String, last :: String }
unknownPerson = { first, last }
  where
    first = "Jane"
    last  = "Doe"

```

ê·¸ ì´ë¦„ì„ ìƒˆ ë ˆì½”ë“œë¥¼ êµ¬ì„±í•  ë•Œì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## ì¤‘ì²©ëœ íŒ¨í„´

ë°°ì—´ íŒ¨í„´ê³¼ ë ˆì½”ë“œ íŒ¨í„´ì€ ë‘˜ ë‹¤ ì‘ì€ íŒ¨í„´ë“¤ì„ í•©ì³ì„œ ë” í° íŒ¨í„´ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```purescript
type Address = { street :: String, city :: String }
type Person = { name :: String, address :: Address }

livesInLA :: Person -> Boolean
livesInLA { address : { city: "Los Angeles" } } = true
livesInLA _ = false
```

## ì´ë¦„ì„ ê°€ì§€ëŠ” íŒ¨í„´

ì¤‘ì²©ëœ íŒ¨í„´ì„ ê°€ì§ˆ ë•Œë¥¼ ìœ„í•´ì„œ íŒ¨í„´ ìì²´ì— ì´ë¦„ì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” `@` ê¸°í˜¸ë¥¼ í†µí•´ ìˆ˜í–‰ëœë‹¤.

```purescript
sortPair :: Array Int -> Array Int
sortPair arr@[x,y]
  | x <= y = arr
  | otherwise = [y,x]
sortPair arr = arr
```

ìœ„ì˜ ì½”ë“œëŠ” 2ê°œì˜ ê°’ì„ ê°€ì§€ëŠ” ë°°ì—´(íŠœí”Œ)íƒ€ì…ì˜ ì¸ìì— ëŒ€í•´ì„œ í•­ìƒ ì •ë ¬ëœ ìƒíƒœë¥¼ ë§Œì¡±ì‹œí‚´

## Case í‘œí˜„ì‹

(ìµìˆ™í•œ ë²„ì „ì˜ íŒ¨í„´ ë§¤ì¹­)
íŒ¨í„´ì€ ìµœìƒìœ„ í•¨ìˆ˜ ì„ ì–¸ì—ë§Œ ìˆì§€ ì•Šê³ , ì—°ì‚° ì¤‘ê°„ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

(ì˜¤ë¥¸ìª½ì—ì„œë¶€í„° í•©ì´ 0ì´ ë˜ëŠ” ê°€ì¥ ê¸´ ë¶€ë¶„ì§‘í•©ì„ êµ¬í•˜ëŠ” ì½”ë“œ)

```purescript
import Data.Array (tail)
import Data.Foldable (sum)
import Data.Maybe (fromMaybe)

lzs :: Array Int -> Array Int
lzs [] = []
lzs xs = case sum xs of
          0 -> xs
          _ -> lzs (fromMaybe [] $ tail xs)
```

## íŒ¨í„´ ë§¤ì¹˜ ì‹¤íŒ¨ì™€ ë¶€ë¶„ í•¨ìˆ˜

ë§Œì•½ íŒ¨í„´ ë§¤ì¹­ì—ì„œ ëª¨ë“  case í‘œí˜„ì‹ì— ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” inputì´ ë“¤ì–´ì™”ì„ ë•ŒëŠ”?

- _pattern match failure_ ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

```purescript
import Partial.Unsafe (unsafePartial)
{-
> import Partial.Unsafe (unsafePartial)
> :type unsafePartial
forall (a :: Type). (Partial => a) -> a
-}

partialFunction :: Boolean -> Boolean
partialFunction = unsafePartial \true -> true
{-
ì´ í•¨ìˆ˜ëŠ” 2ë²ˆì§¸ ì¸ìê°€ trueì¼ë•Œë§Œ ë§¤ì¹­ë¨
-}
```

ì¼ë•Œ,

```purescript
> :paste
â€¦ partialFunction :: Boolean -> Boolean
â€¦ partialFunction = unsafePartial \true -> true
â€¦
> partialFunction false
file:///Users/ben/git/personal/Purescript-Soup/purescript-book/exercises/chapter5/.psci_modules/$PSCI/index.js:7
    throw new Error("Failed pattern match at $PSCI (line 2, column 33 - line 2, column 46): " + [ v.constructor.name ]);
```

total function : ëª¨ë“  ì¡°í•©ì˜ ì…ë ¥ì„ ëŒ€ì‘í•˜ëŠ” í•¨ìˆ˜
partial function : total functionì„ ë§Œì¡±í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜(ëª¨ë“  patternì„ ë§Œì¡±í•˜ì§€ ì•ŠìŒ)

- ì¼ë°˜ì ìœ¼ë¡œëŠ” ì‘ì„±í•  ìˆ˜ ì—†ìœ¼ë©°, ì—ëŸ¬ê°€ ë°œìƒí•  ê²ƒì´ë‚˜, `unsafePartial`ì„ ì´ìš©í•˜ë©´ ì •ì˜í•  ìˆ˜ ìˆìŒ

```purescript
> partialFunction true = true
> :type partialFunction
Partial => Boolean -> Boolean
```

`=>`(íƒ€ì… í´ë˜ìŠ¤ì™€ ì—°ê´€ì´ ìˆëŠ”, _Constraint_) ì™€ `Partial` ì´ ë¶™ëŠ”ë‹¤.
ì´ëŠ” ì¶”í›„ ì¥ë“¤ì—ì„œ ë‹¤ë£° ì˜ˆì •ì´ì§€ë§Œ, ë‹¹ì¥ì€ íƒ€ì… ì‹œìŠ¤í…œì— ì˜í•´ì„œ Partial functionì´ ì¶”ì ëœë‹¤ëŠ” ê²ƒë§Œ ì•Œì•„ë‘”ë‹¤.

ì»´íŒŒì¼ëŸ¬ëŠ” redundant ì²´í¬ë„ í•´ì¤€ë‹¤.

ê·¸ëŸ¬ë©´ ì™œ ì´ë ‡ê²Œ unsafeí•œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í–ˆëŠ”ê°€?(ì–¸ì œ ì´ê²ƒì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ê°€?)

- í”„ë¡œê·¸ë¨ì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ë“¤ì— ì˜í•´ ì´ í•¨ìˆ˜ë¡œ ë–¨ì–´ì§€ëŠ” ì¸ìì˜ íƒ€ì…ì´ íŠ¹ì • í•˜ìœ„ íƒ€ì… í˜¹ì€ ê°’ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ë³´ì¥ë  ë•Œ

[reference](https://github.com/purescript/purescript-partial)

```purescript
{-3ê°œì˜ ê°’ì„ ê°€ì§€ëŠ” 3ì°¨ì› ë²¡í„°ì— ëŒ€í•œ ëª¨ë¸ë§-}
module Data.V3
  ( V3()
  , makeV3
  , runV3
  ) where

newtype V3 = V3 (Array Number)

makeV3 :: Number -> Number -> Number -> V3
makeV3 x y z = V3 [x, y, z]

runV3 :: V3 -> Array Number
runV3 (V3 v) = v

-- ìœ„ì˜ V3 íƒ€ì…ì€ ì˜¤ë¡œì§€ 3ê°œì˜ ê°’ì„ ê°€ì§€ëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤.
-- ê·¸ëŸ¬ë‚˜ ì´ë¥¼ ë‹¤ë£¨ëŠ” í•¨ìˆ˜ë¥¼ ì“°ë ¤ê³  í•˜ë©´ (ì˜ˆë¥¼ ë“¤ì–´ ë‚´ì )

dot :: V3 -> V3 -> Number
dot (V3 [x1, x2, x3]) (V3 [y1, y2, y3]) = x1*y1 + x2*y2 + x3*y3

-- ì—¬ê¸°ì„œ ì›ì†Œê°€ 3ê°œê°€ ì•„ë‹Œ V3ì— ëŒ€í•œ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.
-- ì´ë¥¼ ë¬´ì‹œí•˜ê¸° ìœ„í•´ unsafe ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ
```

## ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ì…

_sum(or), product(and) íƒ€ì… ë“±._

oopì—ì„œëŠ” ì¶”ìƒí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ì½˜í¬ë¦¬íŠ¸í•œ í•˜ìœ„ í´ë˜ìŠ¤ë“¤ì„ êµ¬ì„±(ì¤‘ì²©ëœ ì¶”ìƒ í´ë˜ìŠ¤ê°€ ìˆì„ ìˆ˜ë„ ìˆìŒ, ê·¸ëŸ¬ë‚˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì½˜í¬ë¦¬íŠ¸ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì•¼ í•¨).

ê·¸ëŸ¬ë‚˜ ì´ëŸ° ë°©ì‹ì€ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìˆ˜í–‰í•´ì•¼ í•  ëª¨ë“  ë™ì‘ì„ ìƒìœ„ ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜í•´ì•¼ í•˜ê³ , ëª¨ë“ˆì„±ì„ ê¹¨ì§€ ì•Šê³ ì„œëŠ” ìƒˆ ì—°ì‚°ì„ ì¶”ê°€í•˜ê¸° í˜ë“¤ë‹¤.

```purescript
-- or type
data Shape
  = Circle Point Number
  | Rectangle Point Number Number
  | Line Point Point
  | Text Point String

-- ëŒ€ìˆ˜ì  íƒ€ì…ì€ dataë¡œ ì •ì˜ë˜ê³ , ê° í•˜ìœ„ íƒ€ì…ì€ | ë¡œ êµ¬ë¶„ëœë‹¤.

-- and type
type Point =
  { x :: Number
  , y :: Number
  }

data Maybe a = Nothing | Just a
{-
ì—¬ê¸°ì„œ forall ì´ ì—†ìŒì— ì£¼ëª©í•˜ë¼.
forall ì€ í•¨ìˆ˜ì—ëŠ” í•„ìš”í•˜ì§€ë§Œ ADTë‚˜ typeì„ ë‹¤ë£° ë•Œì—ëŠ” í•„ìš”í•˜ì§€ ì•Šë‹¤.
-}

data List a = Nil | Cons a (List a)

```

ì—¬ê¸°ì„œ ConsëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

(ì½˜ì†”ì—ì„œ í™•ì¸í–ˆì„ ë•Œ)

```purescript
> :kind Cons
Symbol -> Symbol -> Symbol -> Constraint
```

ğŸ¤” ì£¼ì–´ì§„ ì •ë³´ê°€ ë„ˆë¬´ ì—†ë‹¤ (ê°ë„ ì•ˆì¡íŒë‹¤)

(pursuitì—ì„œ í™•ì¸í–ˆì„ ë•Œ)

```purescript
class Cons (head :: Symbol) (tail :: Symbol) (symbol :: Symbol) | head tail -> symbol, symbol -> head tail
```

[class ì— ë¶™ì€ | ëŠ” ë¬´ì—‡ì¸ê³  í•˜ë‹ˆ](https://book.purescript.org/chapter6.html#:~:text=The%20compiler%20is%20unable%20to%20make%20that%20deduction%20automatically%2C%20and%20cannot%20commit%20to%20the%20streamString%20instance.%20However%2C%20we%20can%20help%20the%20compiler%20by%20adding%20a%20hint%20to%20the%20type%20class%20definition%3A)
_functional dependency_ : ë‹¤ì¤‘ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ëŠ” íƒ€ì… í´ë˜ìŠ¤ì˜ ì¸ì íƒ€ì…ë“¤ì˜ ê´€ê³„ ì¢…ì†ì„±ì„ í˜•ì„±í•˜ëŠ” ê²ƒ

- ì´ íƒ€ì… ìƒì„±ìì˜ íƒ€ì… ì¸ìë“¤ì€ `|` ì´í›„ë¥¼ ë§Œì¡±í•˜ëŠ” íƒ€ì… ì¸ìë“¤ì´ ë˜ì‹œê² ë‹¤.

> ğŸ¤” Cons ëŠ” ë¬´ì—‡ì¸ê°€
>
> > ğŸ¤”ğŸ¤” ì‹¬ë³¼ íƒ€ì…ì´ë€ ë¬´ì—‡ì¸ê°€
> >
> > data Symbol :: Type
> > Symbol is the kind of type-level strings.
> >
> > Construct types of this kind using the same literal syntax as documented for strings.
> >
> > ```purescript
> > type Hello :: Symbol
> > type Hello = "Hello, world"
> > ```
> >
> > ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”
>
> > https://github.com/paf31/24-days-of-purescript-2016/blob/master/9.markdown
> > ë¦¬í„°ëŸ´ ë¬¸ìì—´ `"cookies"` ëŠ” `String` íƒ€ì…ì´ê³ , `*` kind ì´ë‹¤.
> > íƒ€ì… `"cookies"` ëŠ” `Symbol` kind ì´ë‹¤.
> >
> > ğŸ§ íƒ€ì… ì´ë¦„ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒ?
>
> ğŸ§ Cons ëŠ” head íƒ€ì… ì´ë¦„ê³¼ tail íƒ€ì… ì´ë¦„ê³¼ symbol íƒ€ì… ì´ë¦„ì„ ë°›ëŠ”ë°
> head tailì˜ ê²°ê³¼ëŠ” symbol ì´ê³ 
> symbol ì€ head tailì˜ ê²°ê³¼ì´ë‹¤

ì¦‰, List íƒ€ì…ì€

- íƒ€ì… ì¸ì a ë¥¼ ë°›ë˜
- Nil ì´ê±°ë‚˜
  - head List a ê°€ ì‹¬ë³¼ ì´ê³ 
  - ì‹¬ë³¼ì´ a ì™€ List a ì¸ ì‹¬ë³¼ì´ë‹¤.

headì™€ tailì„ ì ìš©í•  ìˆ˜ ìˆëŠ” ì¬ê·€ì ì¸ íƒ€ì….

## ADT ì‚¬ìš©í•˜ê¸°

ADTì˜ ìƒì„±ìë¥¼ ì´ìš©í•˜ì—¬ íƒ€ì…ì„ ë§Œë“œëŠ” ê²ƒì€ í•¨ìˆ˜ì— ì¸ìë¥¼ ë„˜ê¸°ëŠ” ê²ƒê³¼ ë‹¤ë¥´ì§€ ì•Šë‹¤.

```purescript
exampleLine :: Shape
exampleLine = Line p1 p2
  where
    p1 :: Point
    p1 = { x: 0.0, y: 0.0 }

    p2 :: Point
    p2 = { x: 100.0, y: 50.0 }
```

ì´ëŸ° ADTë¥¼ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œëŠ” íŒ¨í„´ ë§¤ì¹­ì— ì ìš©í•˜ëŠ” ê²ƒ

ìƒê¸°í•œ `Shape`ë¥¼ `String`ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ `showShape`ì— ëŒ€í•´ì„œ

```purescript
showShape :: Shape -> String
showShape (Circle c r) =
  "Circle [center: " <> showPoint c <> ", radius: " <> show r <> "]"
showShape (Rectangle c w h) =
  "Rectangle [center: " <> showPoint c <> ", width: " <> show w <> ", height: " <> show h <> "]"
showShape (Line start end) =
  "Line [start: " <> showPoint start <> ", end: " <> showPoint end <> "]"
showShape (Text loc text) =
  "Text [location: " <> showPoint loc <> ", text: " <> show text <> "]"

showPoint :: Point -> String
showPoint { x, y } =
  "(" <> show x <> ", " <> show y <> ")"
```

## ë‰´íƒ€ì…

ADTì— `newtype`ì´ë¼ëŠ” íŠ¹ìˆ˜í•œ ê²½ìš°ê°€ ìˆë‹¤. ì´ëŠ” `data` í‚¤ì›Œë“œ ëŒ€ì‹  `newtype` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•œë‹¤.

ë‰´íƒ€ì…ì€

- ë°˜ë“œì‹œ í•˜ë‚˜ë§Œì˜ ìƒì„±ìë¥¼ ì •ì˜í•´ì•¼ í•˜ë©°
- ì´ ìƒì„±ìëŠ” í•˜ë‚˜ì˜ íƒ€ì… ì¸ìë§Œì„ ë°›ì•„ì•¼ í•œë‹¤
- ê·¸ëŸ¬ë‚˜ newtype í‚¤ì›Œë“œ ìì²´ëŠ” ì—¬ëŸ¬ íƒ€ì… ì¸ìë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.
  - `newtype CouldError err a = CouldError (Either err a)`
  - Either ìƒì„±ìë¥¼ ì¸ìë¡œ ë°›ì§€ë§Œ, Either íƒ€ì… ìƒì„±ìëŠ” errê³¼ a íƒ€ì… ì¸ìë¥¼ ë°›ëŠ”ë‹¤.


```purescript
newtype Volt = Volt Number
newtype Ohm = Ohm Number
newtype Amp = Amp Number
```

ì´ ë‰´íƒ€ì…ì€ ê¸°ì¡´ì˜ íƒ€ì…ì— ìƒˆ ì´ë¦„ì„ ë¶€ì—¬í•  ë¿ì´ë‹¤(type alias)
ì´ ë‰´íƒ€ì…ì€ ì›ì‹œ íƒ€ì…ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëŒ€ì‹  ë„ë©”ì¸ ê°ì²´ë¥¼ ì´ìš©í•˜ë„ë¡ í•´ì„œ ê°™ì€ ì¹´ë””ë„ë¦¬í‹°(í¬ê¸°)ë¥¼ ê°€ì§€ëŠ” ë„ë©”ì¸ë‚´ì˜ ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…ë“¤ì— ëŒ€í•´ ë…¼ë¦¬ì ì¸ ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆê²Œ í•œë‹¤.
(ë§¤ìš° ê°•ë ¥í•œ Domain modelingì„ í•  ìˆ˜ ìˆìŒ)

íƒ€ì… ìƒì„±ìì˜ ì´ë¦„ì€ íƒ€ì… ìƒì„±ìì˜ ì´ë¦„ê³¼ ê°™ì„ í•„ìš”ëŠ” ì—†ë‹¤

```purescript 
newtype Coulomb = MakeCoulomb Number
```
ìœ„ì˜ ê²½ìš°, `Coulomb`ì€ íƒ€ì… ìƒì„±ìê°€ ë˜ê³ , `MakeCoulomb`ëŠ” ë°ì´í„° ìƒì„±ìê°€ ëœë‹¤.
ê·¸ëŸ¬ë‚˜ ì¼ë°˜ì ìœ¼ë¡œ ì´ ë‘˜ì„ ê°™ê²Œ í•˜ëŠ” ê²ƒì´ ê´€ìš©ì ì´ë‹¤.

